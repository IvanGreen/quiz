<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8"/>

  <title>Каталог товаров</title>

  <link rel="icon" type="image/png" th:href="@{/static/favicon.ico}"/>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

  <meta name="ctx" th:content="${#httpServletRequest.getContextPath()}"/>
</head>

<body>

<div th:replace="~{navigation :: navi(Questions)}"/>

<div class="container">
  <br>
  <h1 th:text="'Question: ' + ${question.getTitle()}"/>
  <form th:action="@{/quiz/question/answer/input}" th:object="${userAnswer}" method="post" class="form-horizontal" >
  <table class="table table-hover" th:if="${question.getType() == 'input'}">
    <thead class="thead-dark">
    <tr>
      <th>Answer</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td />
      <td><input type="text" th:field="*{userAnswer.answer}" class="form-control input-sm"></td>
      <td> <button type="submit" class="btn btn-primary">Confirm</button>
      </td>
    </tr>
    </tbody>
  </table>
  </form>

  <table class="table table-hover" th:if="${question.getType() == 'single'}">
    <thead class="thead-dark">
    <tr>
      <th>ID</th>
      <th>Variant</th>
      <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="answer, itrStat : ${question.getAnswers()}">
      <td th:text="${itrStat.index + 1}"/>
      <td th:text="${answer.getTitle()}"/>
      <td> <a th:href="@{'/quiz/question/answer?answer=' + ${answer.getId()} + '&question=' + ${question.getId()}}">ANSWER</a>
      </td>
    </tr>
    </tbody>
  </table>
</div>

</body>
</html>